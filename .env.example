# ===========================================
# NITOR - QUICK START ENVIRONMENT SETUP
# ===========================================

# This is a quick reference for all required API keys.
# Copy this file to .env and fill in your actual values.
#
# For detailed configuration, see:
# - Backend: packages/backend/.env.example
# - Frontend: packages/frontend/.env.example
# - AI Service: packages/ai-service/.env.example

# ===========================================
# QUICK SETUP GUIDE (5 minutes)
# ===========================================

# 1. GOOGLE GEMINI API (REQUIRED)
#    Get it: https://makersuite.google.com/app/apikey
#    Free tier: 60 requests/minute
#    [  ] Sign in with Google
#    [  ] Click "Create API Key"
#    [  ] Copy and paste below

GEMINI_API_KEY=your-gemini-api-key-here
API_KEY=your-gemini-api-key-here

# 2. SENDGRID EMAIL API (REQUIRED)
#    Get it: https://sendgrid.com
#    Free tier: 100 emails/day
#    [  ] Create free account
#    [  ] Verify email
#    [  ] Settings → API Keys → Create API Key
#    [  ] Select "Full Access"
#    [  ] Copy and paste below

SPRING_MAIL_PASSWORD=SG.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
MAIL_PASSWORD=your-sendgrid-api-key

# 3. AWS S3 STORAGE (REQUIRED)
#    Get it: https://aws.amazon.com/free/
#    Free tier: 5GB for 12 months
#    [  ] Create AWS account
#    [  ] IAM → Users → Create User
#    [  ] Attach policy: AmazonS3FullAccess
#    [  ] Create Access Key
#    [  ] Create S3 bucket
#    [  ] Copy credentials below

MINIO_ACCESS_KEY=AKIAXXXXXXXXXXXXXXXX
MINIO_SECRET_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
MINIO_BUCKET_NAME=nitor-files-12345
MINIO_REGION=us-east-1
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
AWS_S3_BUCKET_NAME=nitor-files-12345

# 4. GOOGLE OAUTH (OPTIONAL)
#    Get it: https://console.cloud.google.com
#    Free (no limits)
#    [  ] Create new project
#    [  ] APIs & Services → Credentials
#    [  ] Create OAuth 2.0 Client ID
#    [  ] Add redirect URI: http://localhost:8080/api/auth/oauth2/callback/google
#    [  ] Copy credentials below

OAUTH_GOOGLE_ENABLED=true
GOOGLE_OAUTH_ENABLED=true
OAUTH_GOOGLE_CLIENT_ID=123456789012-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.apps.googleusercontent.com
OAUTH_GOOGLE_CLIENT_SECRET=GOCSPX-XXXXXXXXXXXXXXXXXXXXXXXXXXXX
GOOGLE_CLIENT_ID=123456789012-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-XXXXXXXXXXXXXXXXXXXXXXXXXXXX

# 5. GITHUB OAUTH (OPTIONAL)
#    Get it: https://github.com/settings/developers
#    Free (no limits)
#    [  ] OAuth Apps → New OAuth App
#    [  ] Homepage URL: http://localhost:3000
#    [  ] Callback URL: http://localhost:8080/api/auth/oauth2/callback/github
#    [  ] Copy credentials below

OAUTH_GITHUB_ENABLED=true
GITHUB_OAUTH_ENABLED=true
OAUTH_GITHUB_CLIENT_ID=Iv1.XXXXXXXXXXXXXXXX
OAUTH_GITHUB_CLIENT_SECRET=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
GITHUB_CLIENT_ID=Iv1.XXXXXXXXXXXXXXXX
GITHUB_CLIENT_SECRET=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# 6. LINKEDIN OAUTH (OPTIONAL)
#    Get it: https://www.linkedin.com/developers/apps
#    Free (no limits)
#    [  ] Create new app
#    [  ] Add redirect URL: http://localhost:8080/api/auth/oauth2/callback/linkedin
#    [  ] Copy credentials below

OAUTH_LINKEDIN_ENABLED=false
LINKEDIN_OAUTH_ENABLED=false
OAUTH_LINKEDIN_CLIENT_ID=XXXXXXXXXXXXXX
OAUTH_LINKEDIN_CLIENT_SECRET=XXXXXXXXXXXXXXXX
LINKEDIN_CLIENT_ID=XXXXXXXXXXXXXX
LINKEDIN_CLIENT_SECRET=XXXXXXXXXXXXXXXX

# ===========================================
# JWT SECRET (REQUIRED)
# ===========================================

# Generate a strong 256-bit secret:
# Run: openssl rand -base64 64
# Or use: https://www.grc.com/passwords.htm

JWT_SECRET=xK8vN3mQ9pL2wE5rT7yU1iO0pA4sD6fG8hJ9kL1zX3cV5bN7mQ0wE2rT4yU6iO8pA

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# PostgreSQL Database
# Local: Use Docker Compose (automatic)
# Production: Use Render/Railway free PostgreSQL

DB_HOST=localhost
DB_PORT=5432
DB_NAME=nitor
DB_USER=nitor
DB_PASSWORD=your_database_password_here
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/nitor
SPRING_DATASOURCE_USERNAME=nitor
SPRING_DATASOURCE_PASSWORD=your_database_password_here

# ===========================================
# REDIS CONFIGURATION (OPTIONAL)
# ===========================================

# Redis Cache
# Local: Use Docker Compose (automatic)
# Production: Use Railway free Redis or set SPRING_CACHE_TYPE=simple

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
SPRING_REDIS_HOST=localhost
SPRING_REDIS_PORT=6379
SPRING_REDIS_PASSWORD=
SPRING_CACHE_TYPE=redis

# ===========================================
# API URLS
# ===========================================

# Local Development
VITE_API_URL=http://localhost:8080
VITE_AI_SERVICE_URL=http://localhost:3001
AI_SERVICE_URL=http://localhost:3001
FRONTEND_URL=http://localhost:3000
APP_BASE_URL=http://localhost:3000

# ===========================================
# CORS CONFIGURATION
# ===========================================

CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# ===========================================
# SERVER PORTS
# ===========================================

SERVER_PORT=8080
PORT=3001

# ===========================================
# SPRING PROFILE
# ===========================================

SPRING_PROFILES_ACTIVE=dev
SPRING_PROFILE=dev
NODE_ENV=development
VITE_ENV=development

# ===========================================
# EMAIL FROM ADDRESS
# ===========================================

SPRING_MAIL_FROM=noreply@yourdomain.com
MAIL_FROM=noreply@nitor.com

# ===========================================
# QUICK START COMMANDS
# ===========================================

# 1. Copy this file:
#    cp .env.example .env
#
# 2. Fill in your API keys above
#
# 3. Start services:
#    docker-compose up -d  (starts PostgreSQL, Redis, MinIO)
#    cd packages/backend && mvn spring-boot:run
#    cd packages/ai-service && npm install && npm start
#    cd packages/frontend && npm install && npm run dev
#
# 4. Access application:
#    Frontend: http://localhost:3000
#    Backend: http://localhost:8080
#    AI Service: http://localhost:3001

# ===========================================
# FREE DEPLOYMENT GUIDE
# ===========================================

# See detailed guides:
# - FREE_DEPLOYMENT_GUIDE.md (Turkish)
# - PRODUCTION_DEPLOYMENT_COMPLETE_GUIDE.md (English)
# - docs/DEPLOYMENT_GUIDE.md

# Recommended free hosting:
# - Backend: Render.com (750 hours/month free)
# - Frontend: Vercel.com (unlimited free)
# - AI Service: Render.com or Railway.app
# - Database: Render PostgreSQL (free tier)
# - Redis: Railway Redis (free tier) or use SPRING_CACHE_TYPE=simple

# ===========================================
# TESTING YOUR SETUP
# ===========================================

# Test Gemini API:
# curl -X POST http://localhost:3001/api/ai/refine \
#   -H "Content-Type: application/json" \
#   -d '{"text":"Hello world","context":"academic"}'

# Test SendGrid:
# curl -X POST http://localhost:8080/api/auth/register \
#   -H "Content-Type: application/json" \
#   -d '{"email":"test@example.com","password":"Test123!","username":"testuser"}'

# Test S3 Upload:
# curl -X POST http://localhost:8080/api/files/upload \
#   -H "Authorization: Bearer YOUR_JWT_TOKEN" \
#   -F "file=@test.jpg"

# ===========================================
# TROUBLESHOOTING
# ===========================================

# If services don't start:
# 1. Check all required API keys are filled
# 2. Verify PostgreSQL is running: docker ps
# 3. Check ports are not in use: lsof -i :8080 -i :3000 -i :3001
# 4. View logs: docker-compose logs -f
# 5. Restart services: docker-compose restart

# Common issues:
# - Database connection failed: Check DB_HOST and DB_PASSWORD
# - Redis connection failed: Set SPRING_CACHE_TYPE=simple
# - Email sending failed: Verify SendGrid API key
# - File upload failed: Check AWS S3 credentials
# - OAuth failed: Verify redirect URIs match

# ===========================================
# SUPPORT
# ===========================================

# Documentation: https://github.com/olaflaitinen/nitor
# Issues: https://github.com/olaflaitinen/nitor/issues
# Email: support@nitor.io

# ===========================================
# NOTES
# ===========================================

# SECURITY:
# - Never commit .env file to git (already in .gitignore)
# - Use strong passwords and secrets
# - Rotate API keys regularly
# - Enable 2FA on all services

# COST:
# - All services listed above have FREE tiers
# - Total cost: $0/month for development
# - Production: $0-12/month depending on usage

# API LIMITS (Free Tiers):
# - Gemini: 60 req/min, 1,500 req/day
# - SendGrid: 100 emails/day
# - AWS S3: 5GB storage, 20,000 GET, 2,000 PUT
# - Google OAuth: Unlimited
# - GitHub OAuth: Unlimited
